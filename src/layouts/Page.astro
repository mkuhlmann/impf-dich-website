---
import Navbar from '@/components/Navbar.astro';
import Layout from './Layout.astro';
import Footer from '@/components/Footer.astro';
import { Img } from 'astro-imagetools/components';

const { content } = Astro.props;

let heroImagePath = null;

if (content.heroImage) {
	const file: string = Astro.props.file;
	// get directory path of file
	const dir = file.substring(0, file.lastIndexOf('/'));

	heroImagePath = dir + '/' + content.heroImage;
}

const { title } = Astro.props.frontmatter || Astro.props;
---

<Layout title={title}>
	<Navbar />

	{
		heroImagePath && (
			<div class="bg-gray-700" style=" z-index: -100;">
				<div class="container mx-auto flex justify-center" style="padding-top: 80px;">
					<Img alt="bla" src={heroImagePath} />
				</div>
			</div>
		)
	}

	<div class="container mx-auto px-5 py-10" style={!heroImagePath ? 'margin-top: 80px;' : ''}>
		<h1 class="text-4xl mb-5 heading">{content.title}</h1>

		<article class="content"><slot /></article>
	</div>

	<Footer />
</Layout>
